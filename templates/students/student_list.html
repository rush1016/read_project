{% extends 'base.html' %}
{% load static %}

{% block title %}
    <title>Student List</title>
{% endblock title %}

{% block content %}

<div class="container mt-5">
    <div class="d-flex justify-content-between">
        <h2 class="display-3 mt-3">Student List</h2>
    </div>
    <p class="display-6">
        for Grade {{ user.teacher.grade_level }} - {{ user.teacher.section }}
    </p>
    <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#language-select-generate-report">Generate Class Summary</button>
    <!-- Filter records -->

    <div class="form-group d-flex justify-content-end p-3">
        <!-- Filter options -->
        {% if students %}
            {% include 'students/partials/filter_student_table.html' %}
        {% endif %}
        
        <!-- Button to trigger the modal -->
        <button 
            type="button" 
            class="btn btn-success w-25 h-50 my-3" 
            data-bs-toggle="modal" 
            data-bs-target="#addStudentModal">
                Add Student
        </button>
    </div>
    <!-- End Modal Button -->

    <!-- Student table that contains student records -->
    {% include 'students/partials/partial_student_table.html' %}

    <!-- Modal adding student records -->
    {% include 'students/modals/modal_add_student.html' %}
    {% include 'students/modals/modal_confirm_add.html' %}

    <!-- Modal for selecting language for reports -->
    {% include "students/modals/modal_class_report.html" %}
</div>


<!-- Script for calling add_student view -->
<script src="{% static 'assets/js/students/add_student.js' %}"></script>
<script src="{% static "assets/js/students/check_existing_record.js" %}"></script>

<!-- Script for listening to edit button click and rendering edit form -->
<script src="{% static 'assets/js/students/edit_student.js' %}"></script>
<script src="{% static 'assets/js/students/student_lrn_parse_int.js' %}"></script>

<!-- Script for listening to delete button click and rendering delete form -->
<script src="{% static 'assets/js/students/delete_student.js' %}"></script>

<!-- Script for student approval modal -->
<script src="{% static 'assets/js/students/approve_student.js' %}"></script>

<!--Script for fetching class section data -->
<script src="{% static 'assets/js/students/get_class_section_data.js' %}"></script>

<!--Script for fetching class section data -->
<script src="{% static 'assets/js/students/get_single_student_record.js' %}"></script>

<!--Script for dynamic class section choices -->
<script src="{% static 'assets/js/students/dynamic_choice_field.js' %}"></script>

<!--Script for auto filling the edit form -->
<script src="{% static 'assets/js/students/fill_form_fields.js' %}"></script>

<!-- Populate Section Filter -->
<script src="{% static 'assets/js/students/populate_filter_by_section.js' %}"></script>

<!-- Filter script -->
<script src="{% static 'assets/js/students/filter_student_table.js' %}"></script>
{% endblock content %}